<section *ngIf="user" class="items-center justify-center p-10 m-28">
  <div class="dark:border-gray-700 mb-10">
    <ul
      class="flex flex-wrap -mb-px text-md font-medium text-center text-gray-500"
    >
      <li class="me-2">
        <button
          (click)="changeView('profile')"
          class="inline-flex items-center justify-center p-4 border-b-4 border-gray-500 rounded-t-lg hover:text-gray-800 hover:border-gray-800 group"
        >
          <i class="fa-solid fa-md fa-circle-user mr-1"></i>
          Profile
        </button>
      </li>
      <li class="me-2">
        <button
          (click)="changeView('myAdvs')"
          class="inline-flex items-center justify-center p-4 border-b-4 border-gray-500 rounded-t-lg hover:text-gray-800 hover:border-gray-800 group"
          aria-current="page"
        >
          <i class="fa-solid fa-md fa-gift mr-1"></i>
          My Advertisements
        </button>
      </li>
      <li class="me-2">
        <button
          (click)="changeView('myRequests')"
          class="inline-flex items-center justify-center p-4 border-b-4 border-gray-500 rounded-t-lg hover:text-gray-800 hover:border-gray-800 group"
        >
          <i class="fa-solid fa-md fa-hand-holding-heart mr-1"></i>
          My Request Donations
        </button>
      </li>
    </ul>
  </div>
  <div class="min-h-[80vh]">
    @if(menus.profile){
    <div class="flex flex-col lg:flex-row-reverse w-full max-w-7xl gap-10">
      <div class="w-full lg:w-1/2 flex justify-center items-center">
        <!-- Imagem -->
        <img
          src="../../../assets/user-area.jpg"
          alt="Image two people sharing a little box"
          class="w-full h-auto rounded-lg shadow-xl"
        />
      </div>

      <!-- Dados do UsuÃ¡rio -->
      <div
        *ngIf="user; else loading"
        class="w-full lg:w-1/2 p-10 bg-white rounded-2xl shadow-xl bg-gradient-to-br from-white to-lime-50"
      >
        <h1
          class="text-5xl font-extrabold text-gray-800 mb-8 bg-gradient-to-r from-lime-500 to-lime-900 bg-clip-text text-transparent capitalize"
        >
          Welcome, {{ name || "Guest" }}
        </h1>
        <div class="space-y- text-lg text-gray-700">
          <p class="capitalize">
            <span class="font-semibold text-gray-900">Name:</span>
            {{ user.name }}
          </p>
          <p>
            <span class="font-semibold text-gray-900">Email:</span>
            {{ user.email }}
          </p>
          <p>
            <span class="font-semibold text-gray-900">Phone:</span>
            {{ user.phoneNumber ? user.phoneNumber : "xxx-xxx-xxx" }}
          </p>
        </div>
        <app-button
          buttonText="Edit profile"
          fontSize="1rem"
          padding=".5rem 1rem"
        ></app-button>
      </div>

      <!-- Loading -->
      <ng-template #loading>
        <div class="w-full lg:w-2/5 p-10 bg-white rounded-2xl shadow-lg">
          <div class="animate-pulse space-y-6">
            <div class="h-10 bg-gray-200 rounded w-3/4 mb-6"></div>
            <div class="h-6 bg-gray-200 rounded w-1/2"></div>
            <div class="h-6 bg-gray-200 rounded w-1/2"></div>
            <div class="h-6 bg-gray-200 rounded w-1/2"></div>
            <div class="h-6 bg-gray-200 rounded w-1/2"></div>
          </div>
        </div>
      </ng-template>
    </div>
    } @else if (menus.myAdvs) { @for (adv of advCollection; track $index) {
    <div
      class="grid grid-cols-2 max-w-7xl gap-10"
      [class]="
        $index % 2 == 0
          ? ' bg-white-900 p-4 rounded-lg flex flex-col '
          : ' bg-gray-100 p-4 rounded-lg  flex flex-col '
      "
    >
      <div>
        <div class="justify-left">
          <img
            [src]="getSafeImageUrl(adv.item.image)"
            alt="AdImage"
            class="w-full h-[24vh] object-contain rounded-lg"
          />
        </div>
      </div>
      <div>
        <h3 class="text-left text-2xl text-black-900">
          {{ adv.title }}
        </h3>
        <p class="text-left text-md text-purple-800 mb-1 mt-1">
          {{ adv.description }}
        </p>
        <p class="text-left text-md text-gray-800">
          {{ adv.date | date : "mediumDate" }}
        </p>
        <div class="mt-2 flex text-white space-x-4">
          <button class="bg-lime-600 py-1 px-6 rounded-md hover:bg-lime-800">
            See details
          </button>
          <button class="bg-blue-500 py-1 px-6 rounded-md hover:bg-blue-700">
            Update adv
          </button>
          <button class="bg-red-500 py-1 px-6 rounded-md hover:bg-red-700">
            Cancel adv
          </button>
        </div>
      </div>
    </div>
    } }@else if (menus.myRequests) { }
  </div>
</section>
